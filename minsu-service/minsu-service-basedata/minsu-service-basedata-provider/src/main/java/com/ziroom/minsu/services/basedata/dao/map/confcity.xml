<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="basedata.confCityDao" >
  <resultMap id="BaseResultMap" type="com.ziroom.minsu.entity.conf.ConfCityEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Mar 21 18:22:35 CST 2016.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="fid" property="fid" jdbcType="VARCHAR" />
    <result column="show_name" property="showName" jdbcType="VARCHAR" />
     <result column="region_name" property="regionName" jdbcType="VARCHAR" />
    <result column="hot" property="hot" jdbcType="BIGINT" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="pcode" property="pcode" jdbcType="VARCHAR" />
    <result column="initial" property="initial" jdbcType="VARCHAR" />
    <result column="city_status" property="cityStatus" jdbcType="INTEGER" />
    <result column="city_type" property="cityType" jdbcType="INTEGER" />
    <result column="radii" property="radii" jdbcType="INTEGER" />
    <result column="longitude" property="longitude" jdbcType="DOUBLE" />
    <result column="latitude" property="latitude" jdbcType="DOUBLE" />
    <result column="create_date" property="createDate" jdbcType="TIMESTAMP" />
    <result column="last_modify_date" property="lastModifyDate" jdbcType="TIMESTAMP" />
    <result column="create_fid" property="createFid" jdbcType="VARCHAR" />
    <result column="is_del" property="isDel" jdbcType="INTEGER" />
    <result column="google_longitude" property="googleLongitude" jdbcType="DOUBLE" />
    <result column="google_latitude" property="googleLatitude" jdbcType="DOUBLE" />
  </resultMap>
  
  <sql id="Base_Column_List" >
    <!--
      基础列数据
    -->
    tcc.id, tcc.fid, tcc.show_name, tcc.hot, tcc.code, tcc.level, tcc.pcode, tcc.initial, tcc.city_status, tcc.city_type, tcc.radii, 
    tcc.longitude, tcc.latitude,  tcc.google_longitude, tcc.google_latitude,tcc.create_date, tcc.last_modify_date, tcc.create_fid, tcc.is_del
  </sql>


  <select id="getAllCityList" resultMap="BaseResultMap" parameterType="java.lang.String" >
      <!-- 获取开通的城市列表 -->
      select
      <include refid="Base_Column_List" />
      from t_conf_city tcc
      where tcc.level = 3
  </select>



  <select id="getHotCity" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!-- 获取开通的城市列表 -->
    select
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.level = 3
    AND tcc.city_status = 1
    AND tcc.hot > 90
    ORDER BY  tcc.hot DESC
  </select>
  
  <select id="getHotCityLandlord" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!-- 获取开通的城市列表(房东) -->
    select
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.level = 3
    AND (tcc.city_status = 1 OR tcc.city_status = 3)
    AND tcc.hot > 90
    ORDER BY  tcc.hot DESC
  </select>
  
  <select id="getHotCityTenant" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!-- 获取开通的城市列表(房客) -->
    select
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.level = 3
    AND (tcc.city_status = 1 OR tcc.city_status = 2)
    AND tcc.hot > 90
    ORDER BY  tcc.hot DESC
  </select>



  <select id="getOpenCity" resultMap="BaseResultMap" parameterType="java.lang.String" >
      <!-- 获取开通的城市列表 -->
      select
      <include refid="Base_Column_List" />
      from t_conf_city tcc
      where tcc.level = 3
      AND tcc.city_status = 1
  </select>

  <!-- 获取开通的国家列表(房东) -->
  <select id="getOpenNationLandlord" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!-- 获取开通的城市列表 -->
    select
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.level = 1
    AND (tcc.city_status = 1 OR tcc.city_status = 3)
  </select>


  <!-- 获取指定国家下开通的城市列表(房东) -->
  <select id="getOpenCityLandlord4Nation" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!-- 获取开通的城市列表 -->
    select
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.level = 3
    AND (tcc.city_status = 1 OR tcc.city_status = 3)
    <if test="code != null" >
      AND tcc.pcode IN (
      SELECT CODE FROM t_conf_city WHERE pcode=#{code}
      )
    </if>
  </select>
  
  <!-- 获取开通的城市列表(房东) -->
  <select id="getOpenCityLandlord" resultMap="BaseResultMap" parameterType="java.lang.String" >
      <!-- 获取开通的城市列表 -->
      select
      <include refid="Base_Column_List" />
      from t_conf_city tcc
      where tcc.level = 3
      AND (tcc.city_status = 1 OR tcc.city_status = 3)
  </select>
  
  <!-- 获取开通的城市列表(房客) -->
  <select id="getOpenCityTenant" resultMap="BaseResultMap" parameterType="java.lang.String" >
      <!-- 获取开通的城市列表 -->
      select
      <include refid="Base_Column_List" />
      from t_conf_city tcc
      where tcc.level = 3
      AND (tcc.city_status = 1 OR tcc.city_status = 2)
  </select>

  <!-- 获取已建立档案的开通城市列表 -->
  <select id="getOpenCityWithFile" resultMap="BaseResultMap" parameterType="java.lang.String" >
    SELECT
    <include refid="Base_Column_List" />
    FROM t_conf_city tcc
    WHERE tcc.level = 3
    AND tcc.is_file = 1
    AND tcc.city_status > 0
  </select>

  <select id="selectByfid" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      根据条件查询
    -->
    select 
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.fid = #{fid,jdbcType=VARCHAR}
  </select>
  
  <!-- 国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="treeNodeMap">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="findChildTreeVo" />
  </resultMap>

  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="onlyTreeNodeMap">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="onlyFindChildTreeVo" />
  </resultMap>
  
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="onlyTreeNodeMapData">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="onlyFindChildTreeVoData" />
  </resultMap>
  
  <!-- 资源树子节点查询 -->
  <select id="onlyFindChildTreeVoData" resultMap="onlyTreeNodeMapData" >
    select tcc.fid,tcc.level,tcc.show_name,tcc.code
    from t_conf_city tcc  where
    <![CDATA[
      tcc.level <= 4
      and tcc.pcode=#{code}
      and tcc.city_status=1
      and tcc.is_del = 0
    ]]>
    order by tcc.create_date asc
  </select>
  
  <select id="findConfCityVoData" resultMap="onlyTreeNodeMapData" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=1 and tcc.is_del = 0 
    and tcc.city_status=1
 </select>
  
  <!-- (开通城市)国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="validTreeNodeMap">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="findValidTreeVo" />
  </resultMap>
  
  <!-- (房东开通)国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="validTreeNodeMapForLandlord">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="findValidTreeVoForLandlord" />
  </resultMap>
  
  <!-- (房客开通)国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="validTreeNodeMapForTenant">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="findValidTreeVoForTenant" />
  </resultMap>
  
  <!-- 国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="treeParentMap">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="pcode" property="nodes" javaType="ArrayList" select="findParentTreeVo" />
  </resultMap>
  
    <!-- (所有城市)国家 、省份、城市、区域 树结构map -->
  <resultMap type="com.ziroom.minsu.services.basedata.entity.TreeNodeVo" id="validTreeNodeMapForAll">
    <result column="fid" property="id" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
    <result column="show_name" property="text" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <collection column="code" property="nodes" javaType="ArrayList" select="findValidTreeVoForAll" />
  </resultMap>
  
  <!-- 资源树子节点查询 -->
  <select id="findChildTreeVo" resultMap="treeNodeMap" >
    select tcc.fid,tcc.level,tcc.show_name,tcc.code
    from t_conf_city tcc  where tcc.pcode=#{code}  order by tcc.create_date asc
  </select>

  <!-- 资源树子节点查询 -->
  <select id="onlyFindChildTreeVo" resultMap="onlyTreeNodeMap" >
    select tcc.fid,tcc.level,tcc.show_name,tcc.code
    from t_conf_city tcc  where
    <![CDATA[
      tcc.level < 4
      and tcc.pcode=#{code}
    ]]>
    order by tcc.create_date asc
  </select>
  
   <!-- 开通行政区划子节点查询  查除全关闭的城市-->
  <select id="findValidTreeVoForAll" resultMap="validTreeNodeMapForAll" >
    SELECT tcc.fid,tcc.level,tcc.show_name,tcc.code
    FROM t_conf_city tcc  
    WHERE tcc.pcode=#{code}
    AND tcc.is_del = 0 
    ORDER BY tcc.create_date asc
  </select>
  
  <!-- (开通城市)开通行政区划子节点查询 -->
  <select id="findValidTreeVo" resultMap="validTreeNodeMap" >
    SELECT tcc.fid,tcc.level,tcc.show_name,tcc.code
    FROM t_conf_city tcc  
    WHERE tcc.pcode=#{code}
    AND tcc.is_del = 0 
    AND tcc.city_status >= 1 
    ORDER BY tcc.create_date asc
  </select>
  
  <!-- (房东开通)查询开通行政区划子节点查询 -->
  <select id="findValidTreeVoForLandlord" resultMap="validTreeNodeMapForLandlord" >
    SELECT tcc.fid,tcc.level,tcc.show_name,tcc.code
    FROM t_conf_city tcc  
    WHERE tcc.pcode=#{code}
    AND tcc.is_del = 0 
    AND (tcc.city_status = 1 OR tcc.city_status = 3)
    ORDER BY tcc.create_date asc
  </select>
  
  <!-- (房客开通)查询开通行政区划子节点查询 -->
  <select id="findValidTreeVoForTenant" resultMap="validTreeNodeMapForTenant" >
    SELECT tcc.fid,tcc.level,tcc.show_name,tcc.code
    FROM t_conf_city tcc  
    WHERE tcc.pcode=#{code}
    AND tcc.is_del = 0 
    AND (tcc.city_status = 1 OR tcc.city_status = 2)
    ORDER BY tcc.create_date asc
  </select>
  
  <!-- 行政区划父节点查询 -->
  <select id="findParentTreeVo" resultMap="treeParentMap" >
    SELECT tcc.fid,tcc.level,tcc.show_name,tcc.code,tcc.pcode
    FROM t_conf_city tcc  
    WHERE tcc.code=#{pcode} 
    AND tcc.is_del = 0 
  </select>
  
  <select id="findConfCityOnlyVos" resultMap="onlyTreeNodeMap" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=0 and tcc.is_del = 0 
  </select>
  
  <!-- 下拉菜单结构查询-开通城市 -->
  <select id="findConfCitySelect" resultMap="validTreeNodeMap" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=1 
    AND tcc.is_del = 0 
    AND tcc.city_status >= 1 
  </select>
  
    <!-- 下拉菜单结构查询-所有城市 -->
  <select id="findConfCitySelectForAll" resultMap="validTreeNodeMapForAll" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=1 
    AND tcc.is_del = 0 
  </select>

 <!-- (房东开通)下拉菜单结构查询 -->
  <select id="findConfCitySelectForLandlord" resultMap="validTreeNodeMapForLandlord" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=1 
    AND tcc.is_del = 0 
    AND (tcc.city_status = 1 OR tcc.city_status = 3)
  </select>
  
  <!-- (房客开通)下拉菜单结构查询 -->
  <select id="findConfCitySelectForTenant" resultMap="validTreeNodeMapForTenant" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=1 
    AND tcc.is_del = 0 
    AND (tcc.city_status = 1 OR tcc.city_status = 2)
  </select>

  <select id="findConfCityVo" resultMap="onlyTreeNodeMap" >
    SELECT
    tcc.fid,tcc.show_name,tcc.level,tcc.code
    FROM t_conf_city tcc
    WHERE tcc.level=0 and tcc.is_del = 0
  </select>



  <!-- 级联查询下级行政区域列表 -->
  <select id="findConfCityListByPcode" resultMap="BaseResultMap" parameterType="java.lang.String">
    select tcc.show_name,tcc.code
    from t_conf_city tcc  
    where tcc.pcode = #{pcode,jdbcType=VARCHAR}
    and tcc.city_status >= 1
    and tcc.is_del = 0 
    order by tcc.create_date asc
  </select>
  
  <!-- 获取级联下级行政区域列表 房东 -->
  <select id="findConfCityListByPcodeForLan" resultMap="BaseResultMap" parameterType="java.lang.String">
    select tcc.show_name,tcc.code
    from t_conf_city tcc  
    where tcc.pcode = #{pcode,jdbcType=VARCHAR}
    and (tcc.city_status = 1 OR tcc.city_status = 3) 
    and tcc.is_del = 0 
    order by tcc.create_date asc
  </select>



    <!-- 级联查询下级行政区域列表 -->
    <select id="getConfCityByCityFid" resultMap="BaseResultMap" parameterType="java.lang.String">
        select tcc.show_name,tcc.code
        from t_conf_city tcc
        where tcc.fid = #{cityFid,jdbcType=VARCHAR}
    </select>

   <!--
   列表查询
   -->
  <select id="findConfCityByCondition" resultMap="BaseResultMap" >
    SELECT
    <include refid="Base_Column_List" />
    FROM t_conf_city tcc WHERE tcc.is_del = 0
    <if test="code!=null">
      AND tcc.code = #{code,jdbcType=VARCHAR}
    </if>
    <if test="pcode!=null">
      AND tcc.pcode = #{pcode,jdbcType=VARCHAR}
    </if> order by tcc.create_date asc
  </select>
  
  <!-- 根据code查询城市名称 -->
  <select id="getCityNameByCode" resultType="java.lang.String" parameterType="java.lang.String">
  	SELECT show_name from t_conf_city 
  	where code = #{code,jdbcType=VARCHAR}
  </select>
  
  <!-- 根据城市codeList获取城市名称 -->
  <select id="getCityNameByCodeList" resultMap="BaseResultMap" parameterType="map">
  	SELECT
  	<include refid="Base_Column_List" />
  	FROM t_conf_city tcc
  	WHERE code IN
  	<foreach collection="codeList" item="code" index="index" open="(" separator="," close=")">
    	#{code,jdbcType=VARCHAR}
    </foreach>
  </select>
  
  <delete id="deleteByfid" parameterType="java.lang.String" >
    <!--
      根据id删除
    -->
    delete from t_conf_city tcc
    where tcc.fid = #{fid,jdbcType=VARCHAR}
  </delete>
  
  <insert id="insertConfCity" parameterType="com.ziroom.minsu.entity.conf.ConfCityEntity" >
    <!--
      新增数据
    -->
    insert into t_conf_city
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="fid != null" >
        fid,
      </if>
      <if test="showName != null" >
        show_name,
      </if>
      <if test="regionName != null" >
        region_name,
      </if>
      <if test="hot != null" >
        hot,
      </if>
      <if test="code != null" >
        code,
      </if>
      <if test="level != null" >
        level,
      </if>
      <if test="pcode != null" >
        pcode,
      </if>
      <if test="initial != null" >
        initial,
      </if>
      <if test="cityStatus != null" >
        city_status,
      </if>
      <if test="cityType != null" >
        city_type,
      </if>
      <if test="radii != null" >
        radii,
      </if>
      <if test="longitude != null" >
        longitude,
      </if>
      <if test="latitude != null" >
        latitude,
      </if>
      <if test="createDate != null" >
        create_date,
      </if>
      <if test="lastModifyDate != null" >
        last_modify_date,
      </if>
      <if test="createFid != null" >
        create_fid,
      </if>
      <if test="isDel != null" >
        is_del,
      </if>
       <if test="googleLongitude != null" >
        google_longitude,
      </if>
      <if test="googleLatitude != null" >
         google_latitude,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="fid != null" >
        #{fid,jdbcType=VARCHAR},
      </if>
      <if test="showName != null" >
        #{showName,jdbcType=VARCHAR},
      </if>
        <if test="regionName != null" >
        #{regionName,jdbcType=VARCHAR},
      </if>
      <if test="hot != null" >
        #{hot,jdbcType=BIGINT},
      </if>
      <if test="code != null" >
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="level != null" >
        #{level,jdbcType=INTEGER},
      </if>
      <if test="pcode != null" >
        #{pcode,jdbcType=VARCHAR},
      </if>
      <if test="initial != null" >
        #{initial,jdbcType=VARCHAR},
      </if>
      <if test="cityStatus != null" >
        #{cityStatus,jdbcType=INTEGER},
      </if>
      <if test="cityType != null" >
        #{cityType,jdbcType=INTEGER},
      </if>
      <if test="radii != null" >
        #{radii,jdbcType=INTEGER},
      </if>
      <if test="longitude != null" >
        #{longitude,jdbcType=DOUBLE},
      </if>
      <if test="latitude != null" >
        #{latitude,jdbcType=DOUBLE},
      </if>
      <if test="createDate != null" >
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModifyDate != null" >
        #{lastModifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createFid != null" >
        #{createFid,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null" >
        #{isDel,jdbcType=INTEGER},
      </if>
       <if test="googleLongitude != null" >
        #{googleLongitude,jdbcType=DOUBLE},
      </if>
      <if test="googleLatitude != null" >
        #{googleLatitude,jdbcType=DOUBLE},
      </if>
    </trim>
  </insert>
  
  <update id="updateConfCityByFid" parameterType="com.ziroom.minsu.entity.conf.ConfCityEntity" >
    <!--
      根据fid更新
    -->
    update t_conf_city
    <set >
      <if test="fid != null" >
        fid = #{fid,jdbcType=VARCHAR},
      </if>
      <if test="showName != null" >
        show_name = #{showName,jdbcType=VARCHAR},
      </if>
      <if test="hot != null" >
        hot = #{hot,jdbcType=BIGINT},
      </if>
      <if test="code != null" >
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="level != null" >
        level = #{level,jdbcType=INTEGER},
      </if>
      <if test="pcode != null" >
        pcode = #{pcode,jdbcType=VARCHAR},
      </if>
      <if test="initial != null" >
        initial = #{initial,jdbcType=VARCHAR},
      </if>
      <if test="cityStatus != null" >
        city_status = #{cityStatus,jdbcType=INTEGER},
      </if>
      <if test="cityType != null" >
        city_type = #{cityType,jdbcType=INTEGER},
      </if>
      <if test="radii != null" >
        radii = #{radii,jdbcType=INTEGER},
      </if>
      <if test="longitude != null" >
        longitude = #{longitude,jdbcType=DOUBLE},
      </if>
      <if test="latitude != null" >
        latitude = #{latitude,jdbcType=DOUBLE},
      </if>
      <if test="createDate != null" >
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModifyDate != null" >
        last_modify_date = #{lastModifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createFid != null" >
        create_fid = #{createFid,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null" >
        is_del = #{isDel,jdbcType=INTEGER},
      </if>
      <if test="googleLongitude != null" >
        google_longitude = #{googleLongitude,jdbcType=DOUBLE},
      </if>
      <if test="googleLatitude != null" >
        google_latitude = #{googleLatitude,jdbcType=DOUBLE},
      </if>
    </set>
    where fid = #{fid,jdbcType=VARCHAR}
  </update>
  
   <!-- 城市code查询 -->
   <select id="selectByCode" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from t_conf_city tcc
    where tcc.code = #{code,jdbcType=VARCHAR}
    limit 1
  </select>
</mapper>
